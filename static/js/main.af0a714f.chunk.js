(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(e,t,n){e.exports=n(363)},158:function(e,t,n){},211:function(e,t){},213:function(e,t){},238:function(e,t){},254:function(e,t){},256:function(e,t){},287:function(e,t){},361:function(e,t,n){},363:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"fetchBTCPrice",function(){return j}),n.d(r,"fetchETHPrice",function(){return C}),n.d(r,"fetchPriceHist",function(){return S}),n.d(r,"updateBTCPrice",function(){return D}),n.d(r,"updateETHPrice",function(){return A}),n.d(r,"updatePriceHist",function(){return x}),n.d(r,"updatePeakPrice",function(){return H}),n.d(r,"updatePriceSnapshots",function(){return U});var a=n(0),c=n.n(a),i=n(142),s=n.n(i),o=n(44),l=n(18),p=n(146),u=n(35),h={send_addr:"0xcfA3c2407a547fC5cd248BBF43b829096a60Fcc0",interval:60,btc_price:0,eth_price:0,price_hist:[],snapshots:{peak_price:0,m1_price:0,m2_price:0,m3_price:0,m4_price:0,m5_price:0,m6_price:0}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;return"UPDATE_BTC_PRICE"===t.type?Object(u.a)({},e,{btc_price:t.btc_price}):"UPDATE_ETH_PRICE"===t.type?Object(u.a)({},e,{eth_price:t.eth_price}):"UPDATE_PRICE_HIST"===t.type?Object(u.a)({},e,{price_hist:t.price_hist}):"UPDATE_PRICE_SNAPSHOTS"===t.type?Object(u.a)({},e,{snapshots:t.snapshots}):Object(u.a)({},e)},f=(n(158),n(10)),d=n.n(f),b=n(19),_=n(23),E=n(24),v=n(27),k=n(25),P=n(26),w=n(15),y=n(56),O=n.n(y),g=n(147),T=n.n(g);function j(){return function(e){return O.a.get("https://api.coinbase.com/v2/prices/BTC-USD/spot").then(function(t){e(D(t.data.data.amount)),console.log("btc refreshed")})}}function C(){return function(e){return O.a.get("https://api.coinbase.com/v2/prices/ETH-USD/spot").then(function(t){e(A(t.data.data.amount))})}}function S(){return function(){var e=Object(b.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://min-api.cryptocompare.com/data/histoday?fsym=BTC&tsym=USD&limit=365&aggregate=1&e=CCCAGG&UTCHourDiff=-4").then(function(e){var n=e.data.Data.map(function(e){return{date:T.a.unix(e.time).format("YYYY-MM-DD"),close:e.close}});t(x(n));for(var r=0,a=null,c=n.length-1;c>=0;c--)r<n[c].close&&(a=n[c].date,r=n[c].close);var i={peak_price:{date:a,close:r},m1_price:n[n.length-30],m2_price:n[n.length-60],m3_price:n[n.length-90],m4_price:n[n.length-120],m5_price:n[n.length-150],m6_price:n[n.length-180]};t(U(i))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}function D(e){return{type:"UPDATE_BTC_PRICE",btc_price:e}}function A(e){return{type:"UPDATE_ETH_PRICE",eth_price:e}}function x(e){return{type:"UPDATE_PRICE_HIST",price_hist:e}}function H(e){return{type:"UPDATE_PEAK_PRICE",peak_price:e}}function U(e){return{type:"UPDATE_PRICE_SNAPSHOTS",snapshots:{peak_price:e.peak_price,m1_price:e.m1_price,m2_price:e.m2_price,m3_price:e.m3_price,m4_price:e.m4_price,m5_price:e.m5_price,m6_price:e.m6_price}}}var B=function(e){return c.a.createElement("div",null,c.a.createElement("p",null,"1 BTC = $",e.btc_price," USD "))},I=function(e){return c.a.createElement("div",null,c.a.createElement("p",null,"1 ETH = $",e.eth_price," USD "))},R=function(e){function t(e){var n;return Object(_.a)(this,t),(n=Object(v.a)(this,Object(k.a)(t).call(this,e))).refreshPrice=n.refreshPrice.bind(Object(w.a)(Object(w.a)(n))),n}return Object(P.a)(t,e),Object(E.a)(t,[{key:"refreshPrice",value:function(){this.props.fetchBTCPrice(),this.props.fetchETHPrice()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("button",{className:"button",type:"button",onClick:this.refreshPrice},"Refresh Price"))}}]),t}(a.Component),$=Object(l.b)(function(e){return e},r)(R),F=n(149),W=n(148),Y=n.n(W),M=function(e){function t(e){var n;return Object(_.a)(this,t),(n=Object(v.a)(this,Object(k.a)(t).call(this,e))).state={web3:null,from_addr:null},n.handleClick=n.handleClick.bind(Object(w.a)(Object(w.a)(n))),n}return Object(P.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(d.a.mark(function e(){var t,n,r,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!==this.state.web3){e.next=11;break}return t=new Y.a(window.web3.currentProvider),this.setState({web3:t}),e.next=6,t.eth.getAccounts();case 6:n=e.sent,r=Object(F.a)(n,2),a=r[0],r[1],this.setState({from_addr:a});case 11:console.log("this.state:",this.state),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("Error finding web3.",e.t0);case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(){var e=Object(b.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("this.state.web3:",this.state.web3),t=""+1/this.props.eth_price*5,e.next=5,this.state.web3.eth.sendTransaction({from:this.state.from_addr,to:this.props.send_addr,value:this.state.web3.utils.toWei(t,"ether")});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("button",{type:"button",onClick:this.handleClick},"Transfer $5 ",c.a.createElement("br",null),"(",1/this.props.eth_price*5," Ether)"))}}]),t}(a.Component),N=Object(l.b)(function(e){return{btc_price:e.btc_price,eth_price:e.eth_price,send_addr:e.send_addr}})(M),G=function(e){function t(e){var n;return Object(_.a)(this,t),(n=Object(v.a)(this,Object(k.a)(t).call(this,e))).state={hist_data:[],snapshotAvg:0,avgPcnt:0,peakPrice:0,m1:0,m2:0,m3:0,m4:0,m5:0,m6:0},n}return Object(P.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.calcRecommend()}},{key:"calcRecommend",value:function(){var e=Object(b.a)(d.a.mark(function e(){var t,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.fetchPriceHist();case 2:this.setState({peakPrice:this.props.snapshots.peak_price}),this.setState({m1:this.props.snapshots.m1_price}),this.setState({m2:this.props.snapshots.m2_price}),this.setState({m3:this.props.snapshots.m3_price}),this.setState({m4:this.props.snapshots.m4_price}),this.setState({m5:this.props.snapshots.m5_price}),this.setState({m6:this.props.snapshots.m6_price}),t=((this.state.m1.close+this.state.m2.close+this.state.m3.close+this.state.m4.close+this.state.m5.close+this.state.m6.close)/6).toFixed(2),n=(t/this.state.peakPrice.close*100).toFixed(0),this.setState({snapshotAvg:t}),this.setState({avgPcnt:n});case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("p",null,"The 6 month average Bitcoin price is ",this.state.avgPcnt,"% of the peak price $",this.state.peakPrice.close," on ",this.state.peakPrice.date,".",c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("b",null,"Recommendation:"),c.a.createElement("br",null),c.a.createElement("br",null),this.state.avgPcnt<60?"BUY! The 6 month average price percentage from peak is still BELOW 60% which is a positive signal.":"DON'T BUY! The 6 month price percentage from peak is ABOVE 60% which is a negative signal."),c.a.createElement("br",null),c.a.createElement("p",null,"Below are the price snapshots for the last 6 months (rolling)"),c.a.createElement("table",{width:"500px",align:"center"},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Date"),c.a.createElement("th",null,"Price")),c.a.createElement("tr",null,c.a.createElement("td",null,this.state.m1.date),c.a.createElement("td",null,"$",this.state.m1.close," USD \xa0(",(this.state.m1.close/this.state.peakPrice.close).toFixed(2)+"%"," of ATH)")),c.a.createElement("tr",null,c.a.createElement("td",null,this.state.m2.date),c.a.createElement("td",null,"$",this.state.m2.close," USD \xa0(",(this.state.m2.close/this.state.peakPrice.close).toFixed(2)+"%"," of ATH)")),c.a.createElement("tr",null,c.a.createElement("td",null,this.state.m3.date),c.a.createElement("td",null,"$",this.state.m3.close," USD \xa0(",(this.state.m3.close/this.state.peakPrice.close).toFixed(2)+"%"," of ATH)")),c.a.createElement("tr",null,c.a.createElement("td",null,this.state.m4.date),c.a.createElement("td",null,"$",this.state.m4.close," USD \xa0(",(this.state.m4.close/this.state.peakPrice.close).toFixed(2)+"%"," of ATH)")),c.a.createElement("tr",null,c.a.createElement("td",null,this.state.m5.date),c.a.createElement("td",null,"$",this.state.m5.close," USD \xa0(",(this.state.m5.close/this.state.peakPrice.close).toFixed(2)+"%"," of ATH)")),c.a.createElement("tr",null,c.a.createElement("td",null,this.state.m6.date),c.a.createElement("td",null,"$",this.state.m6.close," USD \xa0(",(this.state.m6.close/this.state.peakPrice.close).toFixed(2)+"%"," of ATH)")))),c.a.createElement("br",null),c.a.createElement("p",null,"This price recommendation is based on several concepts. ",c.a.createElement("a",{href:"https://www.investopedia.com/articles/active-trading/070715/making-money-wyckoff-way.asp"},"Wyckoff Way")," used to identify historical patterns, ",c.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Hype_cycle"},"Hype Cycles"),", and an analysis of Bitcoin price patterns during market cycles such as ",c.a.createElement("a",{href:"https://medium.com/@coinscrum/first-anniversary-review-of-the-fractal-relationship-between-bitcoins-first-two-bubbles-and-what-c548eb2647b9"}," the fractal relationship between bitcoin's first two bubbles and what they might tell us about a third.")))}}]),t}(a.Component),J=Object(l.b)(function(e){return{price_hist:e.price_hist,snapshots:e.snapshots}},r)(G),K=(n(361),function(e){function t(e){var n;return Object(_.a)(this,t),(n=Object(v.a)(this,Object(k.a)(t).call(this,e))).state={timer:null},n.tick=n.tick.bind(Object(w.a)(Object(w.a)(n))),n}return Object(P.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=setInterval(this.tick,1e3*this.props.interval),this.setState({timer:t}),this.refreshPrice();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.clearInterval(this.state.timer)}},{key:"refreshPrice",value:function(){this.props.fetchBTCPrice(),this.props.fetchETHPrice(),console.log("refreshed price!")}},{key:"tick",value:function(){this.refreshPrice()}},{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement("p",{"data-test":"timer-statement"},"Price updates every ",this.props.interval," seconds."),c.a.createElement(B,{btc_price:this.props.btc_price}),c.a.createElement(I,{eth_price:this.props.eth_price}),c.a.createElement("br",null),c.a.createElement($,{props:this.refreshPrice}),c.a.createElement("br",null),c.a.createElement(N,null),c.a.createElement("br",null),c.a.createElement(J,null))}}]),t}(a.Component)),L=Object(l.b)(function(e){return{btc_price:e.btc_price,eth_price:e.eth_price,interval:e.interval}},r)(K);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=Object(o.c)(m,Object(o.a)(p.a));s.a.render(c.a.createElement(l.a,{store:V},c.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[150,2,1]]]);
//# sourceMappingURL=main.af0a714f.chunk.js.map